import{_ as t,C as l,c as p,o as h,ak as s,j as a,a as e,G as d}from"./chunks/framework.CK5UQgAU.js";const o="/login-expired.png",A=JSON.parse('{"title":"登录相关","description":"","frontmatter":{},"headers":[],"relativePath":"guide/login.md","filePath":"guide/login.md"}'),r={name:"guide/login.md"},k={id:"登录过期弹窗",tabindex:"-1"};function g(c,i,u,E,_,y){const n=l("Badge");return h(),p("div",null,[i[3]||(i[3]=s('<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /guide/login.md for this page in Markdown format</div><h1 id="登录相关" tabindex="-1">登录相关 <a class="header-anchor" href="#登录相关" aria-label="Permalink to &quot;登录相关&quot;">​</a></h1><p>登录相关功能包括登录、注册、忘记密码等，所有的表单组件均存放在 <code>/src/components/AccountForm</code> 目录下。</p><h2 id="登录" tabindex="-1">登录 <a class="header-anchor" href="#登录" aria-label="Permalink to &quot;登录&quot;">​</a></h2><p>开发者通常在简单熟悉本框架后，涉及到的第一步业务开发就是修改登录功能，将其替换为自己的登录接口。</p><p>但在实践过程中，经常会遇到一些问题，比如：</p><ul><li>替换真实接口后，无法正常登录</li><li>登录接口请求成功，但是无法跳转到后台主页</li><li>...</li></ul><p>针对这些问题你需要依次检查以下几点：</p><ol><li>在 <code>.env.development</code> 里检查接口请求地址是否正确。</li><li>在 <code>/src/api/index.ts</code> 里修改响应拦截器里的代码，按照实际情况进行调整。例如什么状态下是请求成功，什么状态下是请求异常，并进行错误提示。</li><li>在 <code>/src/api/modules/user.ts</code> 里修改 <code>login</code> 函数，确保接口可以请求成功。</li><li>在 <code>/src/store/modules/user.ts</code> 里修改 <code>isLogin</code> 计算属性，这部分需要根据实际存储的用户信息去判断是否登录。</li></ol><h2 id="注册、忘记密码" tabindex="-1">注册、忘记密码 <a class="header-anchor" href="#注册、忘记密码" aria-label="Permalink to &quot;注册、忘记密码&quot;">​</a></h2><p>如果不需要注册、忘记密码功能，可以在 <code>/src/views/login.vue</code> 中删除相关组件使用的代码。</p>',11)),a("h2",k,[i[0]||(i[0]=e("登录过期弹窗 ",-1)),d(n,{type:"pro",text:"专业版"}),i[1]||(i[1]=e()),i[2]||(i[2]=a("a",{class:"header-anchor",href:"#登录过期弹窗","aria-label":'Permalink to "登录过期弹窗 <Badge type="pro" text="专业版" />"'},"​",-1))]),i[4]||(i[4]=s(`<p>默认情况下，登录过期后会直接跳转到登录页，但框架也支持弹出重新登录的弹窗，需要在应用配置中设置：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> globalSettings</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Settings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">all</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app: {</span></span>
<span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /**</span></span>
<span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * 登录过期模式</span></span>
<span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@默认值</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> \`&#39;redirect&#39;\` 跳转到登录页</span></span>
<span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@可选值</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> \`&#39;popup&#39;\` 弹出登录窗口</span></span>
<span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     */</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    loginExpiredMode: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;popup&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><img src="`+o+'" alt="" data-zoomable=""></p><p>需注意，重新登录表单需要开发者自行接入后端接口。</p>',4))])}const D=t(r,[["render",g]]);export{A as __pageData,D as default};
